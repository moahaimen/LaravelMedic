(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{AI31:function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var n=o("fXoL"),r=o("tyNb"),i=o("ofXK");const c=["component"];function s(t,e){}function a(t,e){1&t&&(n.Rb(0,"div"),n.Cc(1,s,0,0,"ng-template",null,3,n.Dc),n.Qb())}function b(t,e){if(1&t&&(n.Rb(0,"div"),n.Rb(1,"h6"),n.Ec(2),n.Qb(),n.Rb(3,"small"),n.Ec(4),n.fc(5,"uppercase"),n.Qb(),n.Qb()),2&t){const t=n.ec();n.yb(2),n.Fc(t.resource.toTitle(t.prop,t.route)),n.yb(2),n.Fc(n.gc(5,2,t.prop.title))}}function l(t,e){if(1&t&&(n.Rb(0,"div"),n.Rb(1,"h6"),n.Ec(2),n.Qb(),n.Rb(3,"small"),n.Ec(4),n.fc(5,"uppercase"),n.Qb(),n.Qb()),2&t){const t=n.ec();n.yb(2),n.Fc(t.resource.toTitle(t.prop)),n.yb(2),n.Fc(n.gc(5,2,t.prop.title))}}let u=(()=>{class t{constructor(t,e){this.resolver=t,this.route=e}ngAfterViewInit(){if("component"===this.prop.type){const t=this.resolver.resolveComponentFactory(this.prop.component.type);this.instance=this.component.createComponent(t),this.prop.component.configureInstance(this.instance,this.resource,this.prop),this.instance.changeDetectorRef.detectChanges()}}ngOnDestroy(){this.instance&&this.instance.destroy()}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(n.j),n.Lb(r.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-resource-property-details"]],viewQuery:function(t,e){var o;1&t&&n.Jc(c,!0,n.P),2&t&&n.sc(o=n.dc())&&(e.component=o.first)},inputs:{resource:"resource",prop:"prop"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["component",""]],template:function(t,e){1&t&&(n.Pb(0,0),n.Cc(1,a,3,0,"div",1),n.Cc(2,b,6,4,"div",1),n.Cc(3,l,6,4,"div",2),n.Ob()),2&t&&(n.lc("ngSwitch",e.prop.type),n.yb(1),n.lc("ngSwitchCase","component"),n.yb(1),n.lc("ngSwitchCase","data"))},directives:[i.y,i.z,i.A],pipes:[i.I],styles:[""]}),t})()},AMeL:function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));var n=o("fXoL"),r=o("tyNb"),i=o("OC8m"),c=o("1kSV"),s=o("ofXK"),a=o("AI31"),b=o("m1XX");const l=["content"];function u(t,e){if(1&t&&n.Mb(0,"app-resource-property-details",14),2&t){const t=e.$implicit,o=n.ec(2);n.lc("resource",o.context.data)("prop",t)}}function d(t,e){if(1&t&&(n.Rb(0,"button",15),n.Ec(1," Print "),n.Qb()),2&t){const t=n.ec(2);n.lc("useExistingCss",!0)("printTitle",t.context.title)}}function p(t,e){if(1&t){const t=n.Sb();n.Rb(0,"div",2),n.Rb(1,"h6",3),n.Ec(2),n.Qb(),n.Rb(3,"button",4),n.cc("click",(function(){return n.uc(t),n.ec().done()})),n.Rb(4,"span",5),n.Ec(5,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"div",6),n.Rb(7,"div",7),n.Cc(8,u,1,2,"app-resource-property-details",8),n.Qb(),n.Rb(9,"div",9),n.Rb(10,"div",10),n.Cc(11,d,2,2,"button",11),n.Rb(12,"button",12),n.cc("click",(function(){return n.uc(t),n.ec().done()})),n.Mb(13,"i",13),n.Ec(14," Done "),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=n.ec();n.yb(2),n.Fc(t.context.title),n.yb(6),n.lc("ngForOf",t.context.properties),n.yb(3),n.lc("ngIf",t.context.printable)}}let m=(()=>{class t{constructor(t,e,o,n){this.router=t,this.notifier=e,this.modalService=o,this.route=n}ngAfterViewInit(){if(!this.context||!this.context.data||!this.context.properties)return this.notifier.warning("Something went wrong, Undefined context","Resource Details"),void this.done();this.modal=this.modalService.open(this.content,{size:"md",backdrop:"static",keyboard:!1}),history.state.print&&setTimeout(()=>{document.getElementById("printer").click()},2e3)}done(){var t,e;const o=(null===(e=null===(t=this.context)||void 0===t?void 0:t.urls)||void 0===e?void 0:e.tableUrl)||"/users";console.log(o),this.router.navigateByUrl(o).then(t=>{var e;t&&(null===(e=this.modal)||void 0===e||e.dismiss(),this.modalService.dismissAll())})}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(r.f),n.Lb(i.a),n.Lb(c.r),n.Lb(r.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-resource-details"]],viewQuery:function(t,e){var o;1&t&&n.Jc(l,!0),2&t&&n.sc(o=n.dc())&&(e.content=o.first)},inputs:{context:"context"},decls:4,vars:1,consts:[["type","info",3,"close"],["content",""],[1,"modal-header"],[1,"modal-title","pt-1","mt-1"],["type","button",1,"close",2,"border","none","outline","none",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","resource-details",1,"list-group"],["class","list-group-item list-group-item-action",3,"resource","prop",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-right"],["id","printer","class","btn btn-md btn-rounded btn-secondary px-3","printSectionId","resource-details","ngxPrint","",3,"useExistingCss","printTitle",4,"ngIf"],["type","button",1,"btn","btn-md","btn-rounded","btn-primary","px-3",3,"click"],[1,"nc-icon","nc-check-2"],[1,"list-group-item","list-group-item-action",3,"resource","prop"],["id","printer","printSectionId","resource-details","ngxPrint","",1,"btn","btn-md","btn-rounded","btn-secondary","px-3",3,"useExistingCss","printTitle"]],template:function(t,e){1&t&&(n.Rb(0,"ngb-alert",0),n.cc("close",(function(){return e.done()})),n.Ec(1),n.Qb(),n.Cc(2,p,15,3,"ng-template",null,1,n.Dc)),2&t&&(n.yb(1),n.Fc(e.context.title))},directives:[c.c,s.t,s.u,a.a,b.a],styles:[""]}),t})()},Yj9t:function(t,e,o){"use strict";o.r(e),o.d(e,"AuthModule",(function(){return M}));var n=o("ofXK"),r=o("tyNb"),i=o("fXoL"),c=o("lGQG"),s=o("OC8m");let a=(()=>{class t{constructor(t,e,o){this.auth=t,this.notifier=e,this.router=o}canActivate(t,e){const o=this.auth.authenticated;return o&&(this.notifier.error("You are logged-in"),this.router.navigateByUrl("/")),!o}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(c.a),i.Zb(s.a),i.Zb(r.f))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=o("mrSG"),l=o("3Pt+"),u=o("AytR"),d=o("Tj/N"),p=o("tk/3"),m=o("1kSV");let f=(()=>{class t{constructor(t,e,o,n){this.http=t,this.auth=e,this.notifier=o,this.router=n}ngOnInit(){this.userData=new l.i({email:new l.f("",l.C.email),password:new l.f("",l.C.minLength(8))})}login(){this.http.post(`${u.a.apiUrl}/${u.a.loginUrl}`,this.userData.value).subscribe(t=>this.onLoginCompleted(t))}onLoginCompleted(t){return Object(b.a)(this,void 0,void 0,(function*(){const e=new d.a(t.token,t.fcm_token,t.user.id,t.user.user_name,t.user.email,t.user.first_name,t.user.last_name,t.user.role_id,t.user.status_id,t.user.created_at,t.user.updated_at,t.user.address,t.user.phone_number,t.user.province_id,t.user.province,t.user.role,t.user.status);this.auth.setUser(e),this.router.navigateByUrl("/").then(t=>this.notifier.success("Hello, "+e.user_name))}))}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(p.b),i.Lb(c.a),i.Lb(s.a),i.Lb(r.f))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-login"]],decls:29,vars:1,consts:[[1,"wrapper"],[1,"main-panel","w-100"],[1,"navbar","navbar-expand-lg","navbar-transparent","navbar-absolute","fixed-top"],[1,"container-fluid"],[1,"navbar-wrapper","mx-auto"],["href","/",1,"text-info"],["src","/assets/img/logo.png","height","60",1,"mx-auto","mb-0","d-block"],[1,"content",2,"margin-top","150px"],[1,"row"],[1,"col-md-4","mx-auto"],[1,"card","card-user"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"formGroup","submit"],[1,"form-group"],["type","email","placeholder","Email","formControlName","email","autocomplete","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password","autocomplete","current-password",1,"form-control"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"nav",2),i.Rb(3,"div",3),i.Rb(4,"div",4),i.Rb(5,"a",5),i.Mb(6,"img",6),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(7,"div",7),i.Rb(8,"div",3),i.Rb(9,"div",8),i.Rb(10,"div",9),i.Rb(11,"div",10),i.Rb(12,"div",11),i.Rb(13,"h5",12),i.Ec(14,"Login"),i.Qb(),i.Qb(),i.Rb(15,"div",13),i.Rb(16,"form",14),i.cc("submit",(function(){return e.login()})),i.Rb(17,"div",15),i.Rb(18,"label"),i.Ec(19,"Email"),i.Qb(),i.Mb(20,"input",16),i.Qb(),i.Rb(21,"div",15),i.Rb(22,"label"),i.Ec(23,"Password"),i.Qb(),i.Mb(24,"input",17),i.Qb(),i.Rb(25,"div",8),i.Rb(26,"div",18),i.Rb(27,"button",19),i.Ec(28," Login "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.yb(16),i.lc("formGroup",e.userData))},directives:[m.y,l.E,l.r,l.j,l.c,l.q,l.h],styles:[""]}),t})();var h=o("1Udx"),v=o("UTcu"),R=o("iKpk");const g=[{path:"logout",component:R.a,canActivate:[v.a]},{path:"me",component:h.a,canActivate:[v.a]},{path:"login",component:f,canActivate:[a]},{path:"**",redirectTo:"login"}];let Q=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[r.j.forChild(g)],r.j]}),t})();function y(t,e){if(1&t&&(i.Rb(0,"option",31),i.Ec(1),i.Qb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.yb(1),i.Fc(t.name)}}let w=(()=>{class t{constructor(t,e){this.http=t,this.router=e,t.get(u.a.prepareUrl("rolesFetchUrl")).toPromise().then(t=>this.roles=t),this.userData=new l.i({user_name:new l.f(null,l.C.required),email:new l.f(null,l.C.required),first_name:new l.f(null,l.C.required),last_name:new l.f(null,l.C.required),password:new l.f(null,l.C.minLength(8)),password_confirmation:new l.f(null,l.C.minLength(8)),role_id:new l.f(null,l.C.required)})}register(){return Object(b.a)(this,void 0,void 0,(function*(){const t=yield this.http.post(u.a.prepareUrl("registerUrl"),this.userData.value).toPromise();console.log(t),t&&this.router.navigateByUrl("/auth/login")}))}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(p.b),i.Lb(r.f))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-register"]],decls:66,vars:3,consts:[[1,"wrapper"],[1,"main-panel","w-100"],[1,"navbar","navbar-expand-lg","navbar-transparent","navbar-absolute","fixed-top","border-bottom-0"],[1,"container-fluid"],[1,"navbar-wrapper","mx-auto"],["href","/",1,"text-warning"],["src","/assets/img/logo.png","height","25",1,"mx-auto","mb-0","d-block"],[1,"content",2,"margin-top","100px"],[1,"row"],[1,"col-md-4","mx-auto"],[1,"card","card-user"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["autocomplete","off",3,"formGroup","submit"],[1,"col-12","px-3"],[1,"form-group"],["type","text","placeholder","Username","formControlName","user_name","autocomplete","off",1,"form-control"],["type","email","placeholder","Email","formControlName","email","autocomplete","off",1,"form-control"],[1,"col-md-6","pr-1"],["type","text","placeholder","First Name","formControlName","first_name","autocomplete","off",1,"form-control"],[1,"col-md-6","pl-1"],["type","text","placeholder","Last Name","formControlName","last_name","autocomplete","off",1,"form-control"],[1,"col-md-12"],["type","password","placeholder","Password","formControlName","password","autocomplete","off",1,"form-control"],["type","password","placeholder","Re-type password","formControlName","password_confirmation","autocomplete","off",1,"form-control"],[1,"col-md-12","px-3"],["placeholder","Role","formControlName","role_id",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-warning","btn-round",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"nav",2),i.Rb(3,"div",3),i.Rb(4,"div",4),i.Rb(5,"a",5),i.Mb(6,"img",6),i.Rb(7,"p"),i.Rb(8,"strong"),i.Ec(9," Store Dashboard"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(10,"div",7),i.Rb(11,"div",3),i.Rb(12,"div",8),i.Rb(13,"div",9),i.Rb(14,"div",10),i.Rb(15,"div",11),i.Rb(16,"h5",12),i.Ec(17,"Register"),i.Qb(),i.Qb(),i.Rb(18,"div",13),i.Rb(19,"form",14),i.cc("submit",(function(){return e.register()})),i.Rb(20,"div",8),i.Rb(21,"div",15),i.Rb(22,"div",16),i.Rb(23,"label"),i.Ec(24,"Username"),i.Qb(),i.Mb(25,"input",17),i.Qb(),i.Qb(),i.Qb(),i.Rb(26,"div",8),i.Rb(27,"div",15),i.Rb(28,"div",16),i.Rb(29,"label"),i.Ec(30,"Email address"),i.Qb(),i.Mb(31,"input",18),i.Qb(),i.Qb(),i.Qb(),i.Rb(32,"div",8),i.Rb(33,"div",19),i.Rb(34,"div",16),i.Rb(35,"label"),i.Ec(36,"First Name"),i.Qb(),i.Mb(37,"input",20),i.Qb(),i.Qb(),i.Rb(38,"div",21),i.Rb(39,"div",16),i.Rb(40,"label"),i.Ec(41,"Last Name"),i.Qb(),i.Mb(42,"input",22),i.Qb(),i.Qb(),i.Qb(),i.Rb(43,"div",8),i.Rb(44,"div",23),i.Rb(45,"div",16),i.Rb(46,"label"),i.Ec(47,"Password"),i.Qb(),i.Mb(48,"input",24),i.Qb(),i.Qb(),i.Qb(),i.Rb(49,"div",8),i.Rb(50,"div",23),i.Rb(51,"div",16),i.Rb(52,"label"),i.Ec(53,"Password Confirmation"),i.Qb(),i.Mb(54,"input",25),i.Qb(),i.Qb(),i.Qb(),i.Rb(55,"div",8),i.Rb(56,"div",26),i.Rb(57,"div",16),i.Rb(58,"label"),i.Ec(59,"Role"),i.Qb(),i.Rb(60,"select",27),i.Cc(61,y,2,2,"option",28),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(62,"div",8),i.Rb(63,"div",29),i.Rb(64,"button",30),i.Ec(65," Submit "),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.yb(19),i.lc("formGroup",e.userData),i.yb(42),i.lc("ngForOf",e.roles),i.yb(3),i.lc("disabled",!e.userData.valid))},directives:[m.y,l.E,l.r,l.j,l.c,l.q,l.h,l.A,n.t,l.t,l.D],styles:[""]}),t})();var x=o("t2gh"),C=o("uP1v"),E=o("CpO+"),k=o("cNqA"),L=o("oARi"),F=o("Ubi2"),S=o("AMeL"),A=o("0PJQ"),D=o("w+MF"),U=o("AI31"),_=o("EtQq"),N=o("jQpT"),I=o("sRhs");let M=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},providers:[{provide:p.a,useClass:x.a,multi:!0}],imports:[[n.c,Q,l.y,C.a,E.a,k.a,L.a,m.s]]}),t})();i.xc(h.a,[n.r,n.s,n.t,n.u,n.B,n.x,n.y,n.z,n.A,n.v,n.w,r.k,r.g,r.i,r.h,r.l,l.E,l.t,l.D,l.c,l.u,l.x,l.a,l.A,l.B,l.w,l.q,l.r,l.z,l.n,l.m,l.v,l.b,l.d,l.g,l.j,l.h,l.k,l.e,F.a,S.a,A.a,D.a,U.a,_.a,N.a,I.a,m.a,m.G,m.J,m.H,m.I,m.K,m.c,m.d,m.f,m.O,m.N,m.e,m.Q,m.g,m.h,m.i,m.q,m.j,m.k,m.l,m.o,m.n,m.m,m.y,m.u,m.t,m.v,m.w,m.x,m.z,m.A,m.B,m.C,m.D,m.E,m.F,m.L,m.M,m.P,m.V,m.W,m.X,m.Y,m.Z,m.p,m.U,m.R,m.S,m.T,f,w,h.a,R.a],[n.b,n.I,n.q,n.l,n.F,n.g,n.D,n.G,n.d,n.f,n.j,n.k,n.m])},"w+MF":function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var n=o("AytR"),r=o("fXoL"),i=o("tk/3"),c=o("tyNb"),s=o("1kSV"),a=o("OC8m");const b=["content"];function l(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",2),r.Rb(1,"h6",3),r.Ec(2),r.Qb(),r.Rb(3,"p"),r.Ec(4),r.Qb(),r.Qb(),r.Rb(5,"div",4),r.Rb(6,"button",5),r.cc("click",(function(){return r.uc(t),r.ec().delete()})),r.Ec(7,"Delete"),r.Qb(),r.Rb(8,"button",6),r.cc("click",(function(){return r.uc(t),r.ec().ok()})),r.Ec(9,"Cancel"),r.Qb(),r.Qb()}if(2&t){const t=r.ec();r.yb(2),r.Fc(null==t.context?null:t.context.title),r.yb(2),r.Fc(null==t.context?null:t.context.description),r.yb(2),r.lc("disabled",t.uploading)}}let u=(()=>{class t{constructor(t,e,o,n,r){this.http=t,this.router=e,this.route=o,this.modalService=n,this.notifier=r,this.uploading=!1}ngAfterViewInit(){this.modal=this.modalService.open(this.content,{backdrop:"static",keyboard:!1,size:"sm"}),this.modal&&this.context&&this.context.data||this.ok()}delete(){this.uploading=!0,this.http.delete(n.a.prepareUrl(this.context.deleteUrl,this.context.data)).subscribe(t=>{if(t)return history.state.runResolvers=!0,this.notifier.success("Resource deleted successfully"),this.ok(),void(this.uploading=!1);this.uploading=!1,this.notifier.error("Somthing went wrong, Failed to delete the resource")},t=>this.uploading=!1)}ok(){this.modal?this.modal.dismiss():this.modalService.dismissAll(),this.router.navigate(["../../"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(i.b),r.Lb(c.f),r.Lb(c.a),r.Lb(s.r),r.Lb(a.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-resource-delete"]],viewQuery:function(t,e){var o;1&t&&r.Jc(b,!0),2&t&&r.sc(o=r.dc())&&(e.content=o.first)},inputs:{context:"context"},decls:4,vars:0,consts:[["type","info",3,"close"],["content",""],[1,"modal-body"],[1,"modal-title","mt-1","pt-2"],[1,"modal-footer"],[1,"btn","btn-sm","btn-rounded","btn-danger",3,"disabled","click"],[1,"btn","btn-sm","btn-rounded","btn-secondary",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"ngb-alert",0),r.cc("close",(function(){return e.ok()})),r.Ec(1,"Delete resource"),r.Qb(),r.Cc(2,l,10,3,"ng-template",null,1,r.Dc))},directives:[s.c],styles:[""]}),t})()}}]);