(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0PJQ":function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return h}));var r=n("mrSG"),i=n("fXoL"),o=n("AytR"),s=n("tk/3"),c=n("tyNb"),l=n("1kSV");const u=["container"];function a(t,e){}let p=(()=>{class t{constructor(t,e,n,r){this.http=t,this.route=e,this.router=n,this.service=r,this.message="Please fill the following form then click submit button",this.uploading=!1}ngAfterViewInit(){this.modal=this.openModal(),this.initData()}ngAfterContentInit(){}initData(){const t=history.state.resource;if(t&&this.formGroup.patchValue(t),this.isEdit=this.route.snapshot.routeConfig.path.includes("edit"),this.title=this.isEdit?"Edit Resource":"Create Resource",this.isEdit&&!t)return this.ok()}submit(){this.tryCreateResource(),this.tryUpdateResource()}ok(){this.modal?this.modal.dismiss():this.service.dismissAll(),setTimeout(()=>{this.router.navigateByUrl(this.parentUrl)},250)}tryCreateResource(){return Object(r.a)(this,void 0,void 0,(function*(){if(this.isEdit)return;this.uploading=!0;const t=o.a.prepareUrl(this.postUrl,this.route.snapshot.params);return this.http.post(t,this.formGroup.value).toPromise().then(t=>{console.log(t),t&&(this.formGroup.reset(),this.ok())}).finally(()=>this.uploading=!1)}))}tryUpdateResource(){return Object(r.a)(this,void 0,void 0,(function*(){if(!this.isEdit)return;this.uploading=!0;const t=o.a.prepareUrl(this.putUrl,this.route.snapshot.params);return this.http.put(t,this.formGroup.value).toPromise().then(t=>{console.log(t),t&&(this.formGroup.reset(),this.ok())}).finally(()=>this.uploading=!1)}))}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s.b),i.Kb(c.a),i.Kb(c.f),i.Kb(l.h))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-resource-form-content"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Qb(0,"h1"),i.Cc(1,"Hello"),i.Pb())},encapsulation:2}),t})(),h=(()=>{class t{constructor(t,e,n){this.route=t,this.modalService=e,this.resolver=n}ngAfterViewInit(){const e=t.TYPES.get(this.route.snapshot.data.component);console.log(e);const n=this.resolver.resolveComponentFactory(e),r=this.container.createComponent(n);this.content=r.instance,this.modal=this.modalService.open(r.instance,{size:"md",backdrop:"static"})}ngOnDestroy(){null==this.modal?this.modalService.dismissAll():this.modal.dismiss()}ok(){}}return t.TYPES=new Map,t.\u0275fac=function(e){return new(e||t)(i.Kb(c.a),i.Kb(l.h),i.Kb(i.j))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-resource-form"]],viewQuery:function(t,e){var n;1&t&&i.Hc(u,!0,i.O),2&t&&i.rc(n=i.cc())&&(e.container=n.first)},decls:4,vars:1,consts:[["type","info",3,"close"],["container",""]],template:function(t,e){1&t&&(i.Qb(0,"ngb-alert",0),i.bc("close",(function(){return e.ok()})),i.Cc(1),i.Pb(),i.Ac(2,a,0,0,"ng-template",null,1,i.Bc)),2&t&&(i.xb(1),i.Dc(null==e.content?null:e.content.message))},directives:[l.b],styles:[""]}),t})()},DzUq:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("fXoL");let i=(()=>{class t{transform(t,e){return t&&0!==t.length?e&&0!==e.size?(e.forEach((e,n)=>t=t.filter(t=>this.isObjectMatchProperty(t,e,n))),t):t:[]}isObjectMatchProperty(t,e,n){if("component"===n.type)return!1;const r=(""+e).toLocaleLowerCase(),i=n.key.split(".");try{if(i.forEach(e=>t=t[e]),!t)return!1;switch(n.type){case"string":return(""+t).toLocaleLowerCase().includes(r);case"int":return Number.parseInt(t.toString(),10).toString().includes(r);case"float":return Number.parseFloat(t.toString()).toString().includes(r);case"date":case"time":case"datetime":return new Date(e.toString()).toLocaleString().includes(r)}}catch(o){return!1}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Jb({name:"search",type:t,pure:!0}),t})()},NP3i:function(t,e,n){"use strict";n.r(e),n.d(e,"NotificationsModule",(function(){return g}));var r=n("ofXK"),i=n("3Pt+"),o=n("tyNb"),s=n("0PJQ"),c=n("fXoL"),l=n("tk/3"),u=n("1kSV");const a=["content"];function p(t,e){if(1&t){const t=c.Rb();c.Qb(0,"div",2),c.Qb(1,"h6",3),c.Cc(2),c.Pb(),c.Qb(3,"button",4),c.bc("click",(function(){return c.tc(t),c.dc().ok()})),c.Qb(4,"span",5),c.Cc(5,"\xd7"),c.Pb(),c.Pb(),c.Pb(),c.Qb(6,"div",6),c.Qb(7,"form",7),c.Qb(8,"div",8),c.Qb(9,"div",9),c.Qb(10,"div",10),c.Qb(11,"label"),c.Cc(12,"Title"),c.Pb(),c.Lb(13,"input",11),c.Pb(),c.Pb(),c.Pb(),c.Qb(14,"div",8),c.Qb(15,"div",9),c.Qb(16,"div",10),c.Qb(17,"label"),c.Cc(18,"Body"),c.Pb(),c.Lb(19,"input",12),c.Pb(),c.Pb(),c.Pb(),c.Qb(20,"div",8),c.Qb(21,"div",13),c.Qb(22,"button",14),c.bc("click",(function(){return c.tc(t),c.dc().submit()})),c.Cc(23," Submit "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.dc();c.xb(2),c.Ec(" ",t.title," "),c.xb(5),c.kc("formGroup",t.formGroup),c.xb(15),c.kc("disabled",t.uploading||!t.formGroup.dirty||!t.formGroup.touched||!t.formGroup.valid)}}let h=(()=>{class t extends s.b{constructor(t,e,n,r){super(t,e,n,r),this.formGroup=new i.e({title:new i.c(null,i.r.minLength(3)),body:new i.c(null,i.r.minLength(5)),push_type:new i.c("topic"),topic:new i.c("user")})}openModal(){return this.service.open(this.content,{backdrop:"static",keyboard:!1})}get postUrl(){return"notificationsPushUrl"}get putUrl(){throw new Error("Put is not supported for this component")}get parentUrl(){return"/notifications"}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(l.b),c.Kb(o.a),c.Kb(o.f),c.Kb(u.h))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-notification-form"]],viewQuery:function(t,e){var n;1&t&&c.Hc(a,!0),2&t&&c.rc(n=c.cc())&&(e.content=n.first)},features:[c.ub],decls:4,vars:1,consts:[["type","info",3,"close"],["content",""],[1,"modal-header"],[1,"modal-title","pt-1","mt-1"],["type","button",1,"close",2,"border","none","outline","none",3,"click"],["aria-hidden","true"],[1,"modal-body"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"col-12","px-3"],[1,"form-group"],["type","text","placeholder","Title","formControlName","title","autocomplete","off",1,"form-control"],["type","text","placeholder","Body","formControlName","body","autocomplete","off",1,"form-control"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round",3,"disabled","click"]],template:function(t,e){1&t&&(c.Qb(0,"ngb-alert",0),c.bc("close",(function(){return e.ok()})),c.Cc(1),c.Pb(),c.Ac(2,p,24,3,"ng-template",null,1,c.Bc)),2&t&&(c.xb(1),c.Dc(e.message))},directives:[u.b,i.t,i.l,i.f,i.b,i.k,i.d],styles:[""]}),t})();const d=function(){return["create"]},b=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Eb({type:t,selectors:[["app-index"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card",2,"height","calc(100vh - 175px)"],[1,"card-body"],[1,"h-100","d-flex","align-items-center","justify-content-center"],[1,"text-center"],[1,"btn","btn-primary","px-3","mt-1",3,"routerLink"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Lb(2,"router-outlet"),c.Qb(3,"div",2),c.Qb(4,"div",3),c.Qb(5,"div",4),c.Qb(6,"div",5),c.Qb(7,"h6"),c.Cc(8,"Notifications"),c.Pb(),c.Qb(9,"a",6),c.Cc(10,"Create"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.xb(9),c.kc("routerLink",c.nc(1,d)))},directives:[o.j,o.h],styles:[""]}),t})(),children:[{path:"create",component:h}]},{path:"**",redirectTo:""}];let f=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},imports:[[o.i.forChild(b)],o.i]}),t})();var m=n("RDNO"),y=n("uP1v");let g=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},providers:[{provide:l.a,useClass:m.a,multi:!0}],imports:[[r.c,f,u.i,o.i,i.p,y.a]]}),t})()},m1XX:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("fXoL");let i=(()=>{class t{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let e in t)t.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(t[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let e=function(t){return`<link rel="stylesheet" type="text/css" href="${t}">`};if(-1!==t.indexOf(",")){const n=t.split(",");for(let t of n)this._styleSheetFile=this._styleSheetFile+e(t)}else this._styleSheetFile=e(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const e=[],n=document.getElementsByTagName(t);for(let r=0;r<n.length;r++)e.push(n[r].outerHTML);return e.join("\r\n")}getHtmlContents(){let t=document.getElementById(this.printSectionId),e=t.getElementsByTagName("input");for(var n=0;n<e.length;n++)e[n].defaultValue=e[n].value;return t.innerHTML}print(){let t,e,n="",r="";this.useExistingCss&&(n=this.getElementTag("style"),r=this.getElementTag("link")),t=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${n}\n          ${r}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                window.print();\n                setTimeout(function() { window.close(); }, 0);\n              }, ${this.printDelay});\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["button","ngxPrint",""]],hostBindings:function(t,e){1&t&&r.bc("click",(function(){return e.print()}))},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),t})(),o=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[]]}),t})()},uP1v:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("ofXK"),i=n("tk/3"),o=n("3Pt+"),s=n("tyNb"),c=n("1kSV"),l=n("gren"),u=n("m1XX"),a=n("DzUq"),p=n("fXoL");let h=(()=>{class t{}return t.\u0275mod=p.Ib({type:t}),t.\u0275inj=p.Hb({factory:function(e){return new(e||t)},providers:[a.a,r.v],imports:[[r.c,i.c,o.g,o.p,s.i,c.i,l.a,l.b,u.b]]}),t})()}}]);