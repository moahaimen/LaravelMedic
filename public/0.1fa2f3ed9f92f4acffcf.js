(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0PJQ":function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return h}));var i=n("mrSG"),r=n("fXoL"),o=n("AytR"),s=n("tk/3"),c=n("tyNb"),a=n("1kSV");const l=["container"];function u(t,e){}let b=(()=>{class t{constructor(t,e,n,i){this.http=t,this.route=e,this.router=n,this.service=i,this.message="Please fill the following form then click submit button"}ngAfterViewInit(){this.modal=this.openModal(),this.initData()}ngAfterContentInit(){}initData(){const t=history.state.resource;if(t&&this.formGroup.patchValue(t),this.isEdit=this.route.snapshot.routeConfig.path.includes("edit"),this.title=this.isEdit?"Edit Resource":"Create Resource",this.isEdit&&!t)return this.ok()}submit(){this.tryCreateResource(),this.tryUpdateResource()}ok(){this.modal?this.modal.dismiss():this.service.dismissAll(),history.back()}tryCreateResource(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.isEdit)return;const t=yield this.http.post(o.a.prepareUrl(this.postUrl(),this.route.snapshot.params),this.formGroup.value).toPromise();console.log(t),t&&this.ok()}))}tryUpdateResource(){return Object(i.a)(this,void 0,void 0,(function*(){this.isEdit&&(yield this.http.put(o.a.prepareUrl(this.putUrl(),this.route.snapshot.params),this.formGroup.value).toPromise())&&this.ok()}))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(s.b),r.Kb(c.a),r.Kb(c.b),r.Kb(a.d))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-resource-form-content"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Pb(0,"h1"),r.Ac(1,"Hello"),r.Ob())},encapsulation:2}),t})(),h=(()=>{class t{constructor(t,e,n){this.route=t,this.modalService=e,this.resolver=n}ngAfterViewInit(){const e=t.TYPES.get(this.route.snapshot.data.component);console.log(e);const n=this.resolver.resolveComponentFactory(e),i=this.container.createComponent(n);this.content=i.instance,this.modal=this.modalService.open(i.instance,{size:"md",backdrop:"static"})}ngOnDestroy(){null==this.modal?this.modalService.dismissAll():this.modal.dismiss()}ok(){}}return t.TYPES=new Map,t.\u0275fac=function(e){return new(e||t)(r.Kb(c.a),r.Kb(a.d),r.Kb(r.j))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-resource-form"]],viewQuery:function(t,e){var n;1&t&&r.Fc(l,!0,r.O),2&t&&r.pc(n=r.bc())&&(e.container=n.first)},decls:4,vars:1,consts:[["type","info",3,"close"],["container",""]],template:function(t,e){1&t&&(r.Pb(0,"ngb-alert",0),r.ac("close",(function(){return e.ok()})),r.Ac(1),r.Ob(),r.yc(2,u,0,0,"ng-template",null,1,r.zc)),2&t&&(r.xb(1),r.Bc(null==e.content?null:e.content.message))},directives:[a.b],styles:[""]}),t})()},RDNO:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("tk/3"),r=n("z6cu"),o=n("JIr8"),s=n("lJxs"),c=n("Sy1n"),a=n("fXoL"),l=n("lGQG"),u=n("OC8m"),b=n("tyNb");let h=(()=>{class t{constructor(t,e,n){this.auth=t,this.notifier=e,this.router=n}intercept(t,e){return c.b.of.next(!0),t=t.clone({headers:new i.e({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.auth.appUser.token})}),e.handle(t).pipe(Object(o.a)(t=>{if(401===t.status)return this.notifier.error(t.statusText),this.router.navigateByUrl("/auth/login"),Object(r.a)(t.statusText);if(t instanceof i.d){if(t.headers.get("Message")||t.headers.get("message")){console.log(t.headers.get("Message"));const e=t.headers.get("message")||t.headers.get("Message");if(e)return this.notifier.error(e),Object(r.a)(e)}if(t.error){if(t.error.message)return this.notifier.error(t.error.message),Object(r.a)(t.error.message);let e="";return Object.keys(t.error).forEach(n=>{const i=t.error[n];Array.isArray(i)?i.forEach(t=>e+=`${n}-${t}\n`):e+=`${n}-${i}\n`}),this.notifier.error(e),Object(r.a)(e)}}this.notifier.error(`${t.status} - ${t.statusText}`),Object(r.a)(t)}),Object(s.a)(t=>{if(c.b.of.next(!1),t instanceof i.f&&200===t.status){const e=t.headers.get("Message")||t.headers.get("message");e&&e.length>0&&this.notifier.success(e)}return t}))}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(l.a),a.Xb(u.a),a.Xb(b.b))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac}),t})()},Ubi2:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n("fXoL"),r=n("OC8m"),o=n("tyNb"),s=n("ofXK");function c(t,e){if(1&t&&(i.Pb(0,"th"),i.Ac(1),i.dc(2,"uppercase"),i.Ob()),2&t){const t=e.$implicit;i.xb(1),i.Bc(i.ec(2,1,t.title))}}function a(t,e){if(1&t&&(i.Pb(0,"td"),i.Ac(1),i.Ob()),2&t){const t=e.$implicit,n=i.cc().$implicit,r=i.cc();i.xb(1),i.Bc(r.getDataItem(t,n))}}function l(t,e){if(1&t){const t=i.Qb();i.Pb(0,"i",14),i.ac("click",(function(){i.rc(t);const n=e.$implicit,r=i.cc().$implicit;return i.cc().do(r,n)})),i.Ob()}2&t&&i.Ab("",e.$implicit.icon," mx-1")}function u(t,e){if(1&t&&(i.Pb(0,"tr"),i.yc(1,a,2,1,"td",10),i.Pb(2,"td",12),i.yc(3,l,1,3,"i",13),i.Ob(),i.Ob()),2&t){const t=i.cc();i.xb(1),i.ic("ngForOf",t.context.properties),i.xb(2),i.ic("ngForOf",t.context.actions)}}let b=(()=>{class t{constructor(t,e,n){this.notifier=t,this.router=e,this.route=n}ngOnInit(){this.context||(this.notifier.error("Something went wrong, Table context is null"),this.context={urls:{createUrl:"<>",detailsUrl:"<>"},title:"List",data:[],properties:[]}),this.context.actions||(this.context.actions=[]),this.context.actions.push({icon:"nc-icon nc-alert-circle-i",type:"url",url:this.context.urls.editUrl||":id/details"}),this.context.actions.push({icon:"nc-icon nc-tag-content",type:"url",url:this.context.urls.editUrl||":id/edit"}),this.context.actions.push({icon:"nc-icon nc-simple-remove",type:"url",url:this.context.urls.deleteUrl||":id/delete"}),console.log(this.context.properties)}do(t,e){switch(e.type){case"callback":e.callback(t);break;case"url":this.router.navigate([e.url.replace(":id",t.id)],{relativeTo:this.route,state:{resource:t}})}}getDataItem(t,e){let n=e,i=!0;if(t.key.split(".").forEach(t=>{n=n[t],null!=n&&void 0!==n||(i=!1)}),!i)return"";switch(t.type){case"string":return n.toString();case"int":return Number.parseInt(n.toString(),10).toString();case"float":return Number.parseFloat(n.toString()).toString();case"date":return new Date(n.toString()).toLocaleDateString();case"time":return new Date(n.toString()).toLocaleTimeString();case"datetime":return new Date(n.toString()).toLocaleString()}}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(r.a),i.Kb(o.b),i.Kb(o.a))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-table-view"]],inputs:{context:"context"},decls:18,vars:4,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"btn","btn-primary","btn-rounded","pull-right",3,"routerLink"],[1,"card-title"],[1,"card-body"],[1,"table-responsive","overflow-hidden"],[1,"table"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"text-right","actions"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Lb(2,"router-outlet"),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"a",4),i.Ac(6,"Create"),i.Ob(),i.Pb(7,"h4",5),i.Ac(8),i.Ob(),i.Ob(),i.Pb(9,"div",6),i.Pb(10,"div",7),i.Pb(11,"table",8),i.Pb(12,"thead",9),i.yc(13,c,3,3,"th",10),i.Pb(14,"th",11),i.Ac(15,"Actions"),i.Ob(),i.Ob(),i.Pb(16,"tbody"),i.yc(17,u,4,2,"tr",10),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t&&(i.xb(5),i.ic("routerLink",e.context.urls.createUrl),i.xb(3),i.Bc(e.context.title),i.xb(5),i.ic("ngForOf",e.context.properties),i.xb(4),i.ic("ngForOf",e.context.data))},directives:[o.f,o.d,s.j],pipes:[s.p],styles:[".actions[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin:1pt!important;padding:2pt!important;font-size:20px;cursor:pointer;opacity:.8}.actions[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]:hover{opacity:1}"]}),t})()},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(e){o(e)}}function c(t){try{a(i.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((i=i.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return i}))},uP1v:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("ofXK"),r=n("tk/3"),o=n("3Pt+"),s=n("tyNb"),c=n("1kSV"),a=n("fXoL");let l=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[i.b,r.c,o.o,s.e,c.e]]}),t})()},"w+MF":function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n("AytR"),r=n("fXoL"),o=n("tk/3"),s=n("tyNb"),c=n("1kSV"),a=n("OC8m");const l=["content"];function u(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",2),r.Pb(1,"h6",3),r.Ac(2),r.Ob(),r.Pb(3,"p"),r.Ac(4),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.Pb(6,"button",5),r.ac("click",(function(){return r.rc(t),r.cc().delete()})),r.Ac(7,"Delete"),r.Ob(),r.Pb(8,"button",6),r.ac("click",(function(){return r.rc(t),r.cc().ok()})),r.Ac(9,"Cancel"),r.Ob(),r.Ob()}if(2&t){const t=r.cc();r.xb(2),r.Bc(null==t.context?null:t.context.title),r.xb(2),r.Bc(null==t.context?null:t.context.description)}}let b=(()=>{class t{constructor(t,e,n,i,r){this.http=t,this.router=e,this.route=n,this.modalService=i,this.notifier=r}ngAfterViewInit(){this.modal=this.modalService.open(this.content,{backdrop:"static",size:"sm"}),this.modal&&history.state.resource||this.ok()}delete(){this.http.delete(i.a.prepareUrl(this.context.deleteUrl,this.context.data)).subscribe(t=>{if(t)return this.notifier.success("Resource deleted successfully"),void this.ok();this.notifier.error("Somthing went wrong, Failed to delete the resource")})}ok(){this.modal?this.modal.dismiss():this.modalService.dismissAll(),history.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(o.b),r.Kb(s.b),r.Kb(s.a),r.Kb(c.d),r.Kb(a.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-resource-delete"]],viewQuery:function(t,e){var n;1&t&&r.Fc(l,!0),2&t&&r.pc(n=r.bc())&&(e.content=n.first)},inputs:{context:"context"},decls:4,vars:0,consts:[["type","info",3,"close"],["content",""],[1,"modal-body"],[1,"modal-title","mt-1","pt-2"],[1,"modal-footer"],[1,"btn","btn-sm","btn-rounded","btn-danger",3,"click"],[1,"btn","btn-sm","btn-rounded","btn-secondary",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"ngb-alert",0),r.ac("close",(function(){return e.ok()})),r.Ac(1,"Delete resource"),r.Ob(),r.yc(2,u,10,2,"ng-template",null,1,r.zc))},directives:[c.b],styles:[""]}),t})()}}]);