{"version":3,"sources":["./src/app/dashboard/users/index/index.component.ts","./src/app/dashboard/users/index/index.component.html","./src/app/dashboard/users/users.resolver.ts","./src/app/dashboard/users/user-details/user-details.component.ts","./src/app/dashboard/users/user-details/user-details.component.html","./src/app/dashboard/users/user-form/user-form.component.html","./src/app/dashboard/users/user-form/user-form.component.ts","./src/app/dashboard/users/users-routing.module.ts","./src/app/dashboard/users/user-delete/user-delete.component.ts","./src/app/dashboard/users/user-delete/user-delete.component.html","./src/app/dashboard/users/users.module.ts"],"names":["IndexComponent","route","context","urls","createUrl","detailsUrl","data","this","properties","key","title","type","behaviour","noDelete","noEdit","subscribe","users","UsersResolver","http","loader","element","id","user_name","email","first_name","last_name","role_id","status_id","created_at","updated_at","role","status","state","activate","get","environment","apiUrl","usersFetchUrl","pipe","map","e","Json2User","UserDetailsComponent","user","history","resource","tableUrl","UserFormComponent","router","service","super","prepareUrl","toPromise","then","res","roles","formGroup","required","password","minLength","password_confirmation","open","content","backdrop","ok","routes","path","component","runGuardsAndResolvers","resolve","children","pathMatch","UserDeleteComponent","deleteUrl","description","UsersRoutingModule","registerResourceComponents","TYPES","set","forChild","UsersModule","provide","useClass","multi"],"mappings":"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","file":"17.783dcca4073896e81b9c.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\n\nimport { User } from 'src/app/models/user.model';\nimport { ActivatedRoute } from '@angular/router';\nimport { TableViewComponent } from 'src/app/shared/dashboard-resource/table-view/table-view.component';\nimport { ITableContext } from 'src/app/shared/dashboard-resource/table-view/table.context';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.scss']\n})\nexport class IndexComponent {\n  data: User[];\n  context: ITableContext<User> = {\n    urls: {\n      createUrl: '/users/create',\n      detailsUrl: '/:id'\n    },\n    data: this.data,\n    properties: [\n      {\n        key: 'user_name',\n        title: 'User Name',\n        type: 'string'\n      },\n      {\n        key: 'email',\n        title: 'Email',\n        type: 'string'\n      },\n      {\n        key: 'role.name',\n        title: 'Role',\n        type: 'string'\n      },\n      {\n        key: 'status.title',\n        title: 'Status',\n        type: 'string'\n      },\n    ],\n    title: 'Users',\n    behaviour: {\n      noDelete: true,\n      noEdit: true,\n    }\n  };\n  @ViewChild('table') table: TableViewComponent<User>;\n\n  constructor(route: ActivatedRoute) {\n    route.data.subscribe(data => {\n      this.data = data.users;\n      this.context.data = this.data;\n    });\n  }\n}\n","<app-table-view [context]=\"context\" #table></app-table-view>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { environment } from './../../../environments/environment';\r\nimport { User } from './../../models/user.model';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { LoaderService } from 'src/app/services/loader.service';\r\n\r\n@Injectable()\r\nexport class UsersResolver implements Resolve<User[]> {\r\n    public static Json2User(element: any): User {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        return new User(\r\n            element.id,\r\n            element.user_name,\r\n            element.email,\r\n            element.first_name,\r\n            element.last_name,\r\n            element.role_id,\r\n            element.status_id,\r\n            element.created_at,\r\n            element.updated_at,\r\n            element.role,\r\n            element.status);\r\n    }\r\n\r\n    constructor(private http: HttpClient, private loader: LoaderService) {\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<User[]> {\r\n        this.loader.activate('table');\r\n        return this.http.get<any[]>(`${ environment.apiUrl }/${ environment.usersFetchUrl }`)\r\n            .pipe(map(data => data.map(e => UsersResolver.Json2User(e))));\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { User } from 'src/app/models/user.model';\nimport { IResourceDetailsContext } from 'src/app/shared/dashboard-resource/resource-details/resource-details.context';\nimport { UsersResolver } from '../users.resolver';\n\n@Component({\n  selector: 'app-user-details',\n  templateUrl: './user-details.component.html',\n  styleUrls: ['./user-details.component.scss']\n})\nexport class UserDetailsComponent implements OnInit {\n  public context: IResourceDetailsContext<User>;\n\n  ngOnInit(): void {\n    const user: User = UsersResolver.Json2User(history.state.resource);\n\n    this.context = {\n      urls: {\n        tableUrl: '/users/',\n      },\n      data: user,\n      properties: [\n        {\n          key: 'user_name',\n          title: 'User Name',\n          type: 'string'\n        },\n        {\n          key: 'first_name',\n          title: 'First Name',\n          type: 'string'\n        },\n        {\n          key: 'last_name',\n          title: 'Last Name',\n          type: 'string'\n        },\n        {\n          key: 'email',\n          title: 'Email',\n          type: 'string'\n        },\n        {\n          key: 'role.name',\n          title: 'Role',\n          type: 'string'\n        },\n        {\n          key: 'status.title',\n          title: 'Status',\n          type: 'string'\n        },\n        {\n          key: 'created_at',\n          title: 'Created At',\n          type: 'datetime'\n        },\n        {\n          key: 'updated_at',\n          title: 'Updated At',\n          type: 'datetime'\n        },\n      ],\n      title: `Details of user ${ user?.user_name }`\n    };\n  }\n}\n","<app-resource-details [context]=\"context\"></app-resource-details>","<ngb-alert type=\"info\" (close)=\"ok()\">{{ message }}</ngb-alert>\n\n<ng-template #content>\n  <div class=\"modal-header\">\n    <h6 class=\"modal-title pt-1 mt-1\">{{ title }}</h6>\n    <button type=\"button\" class=\"close\" style=\"border: none; outline: none;\" (click)=\"ok()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <form [formGroup]=\"formGroup\">\n      <div class=\"row\">\n        <div class=\"col-12 px-3\">\n          <div class=\"form-group\">\n            <label>Username</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Username\" formControlName=\"user_name\" autocomplete=\"name\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12 px-3\">\n          <div class=\"form-group\">\n            <label>Email address</label>\n            <input type=\"email\" class=\"form-control\" placeholder=\"Email\" formControlName=\"email\" autocomplete=\"email\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-6 pr-1\">\n          <div class=\"form-group\">\n            <label>First Name</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"First Name\" formControlName=\"first_name\" autocomplete=\"given-name\" />\n          </div>\n        </div>\n        <div class=\"col-md-6 pl-1\">\n          <div class=\"form-group\">\n            <label>Last Name</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Last Name\" formControlName=\"last_name\" autocomplete=\"family-name\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <label>Password</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"Password\" formControlName=\"password\" autocomplete=\"new-password\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <label>Password Confirmation</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"Re-type password\" formControlName=\"password_confirmation\" autocomplete=\"new-password\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12 px-3\">\n          <div class=\"form-group\">\n            <label>Role</label>\n            <select class=\"form-control\" placeholder=\"Role\" formControlName=\"role_id\">\n              <option [value]=\"r.id\" *ngFor=\"let r of roles\">{{ r.name }}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"update ml-auto mr-auto\">\n          <button type=\"submit\" class=\"btn btn-primary btn-round\" [disabled]=\"uploading || !formGroup.dirty || !formGroup.valid\" (click)=\"submit()\">\n            Submit\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</ng-template>","import { Component, OnInit, Output, EventEmitter, Input, ViewChild, ElementRef } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { ResourceFormContent } from 'src/app/shared/dashboard-resource/resource-form/resource-form.component';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { NotificationService } from 'src/app/services/notification.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgbModal, NgbModalRef, NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\nimport { Role } from 'src/app/models/role.model';\n\n\n@Component({\n  selector: 'app-user-form',\n  templateUrl: './user-form.component.html',\n  styleUrls: ['./user-form.component.scss']\n})\nexport class UserFormComponent extends ResourceFormContent {\n  title: string;\n  message: string;\n  formGroup: FormGroup;\n\n  roles: Role[];\n\n  @ViewChild('content') content: ElementRef<HTMLElement>;\n\n  constructor(http: HttpClient, route: ActivatedRoute, router: Router, service: NgbModal) {\n    super(http, route, router, service);\n\n    http.get<any[]>(environment.prepareUrl('rolesFetchUrl')).toPromise().then(res => this.roles = res);\n\n    this.formGroup = new FormGroup({\n      user_name: new FormControl(null, Validators.required),\n      email: new FormControl(null, Validators.required),\n      first_name: new FormControl(null, Validators.required),\n      last_name: new FormControl(null, Validators.required),\n      password: new FormControl(null, Validators.minLength(8)),\n      password_confirmation: new FormControl(null, Validators.minLength(8)),\n      role_id: new FormControl(null, Validators.required)\n    });\n  }\n\n  openModal(): NgbModalRef {\n    const options: NgbModalOptions = {\n      backdrop: 'static'\n    };\n\n    return this.service.open(this.content, options);\n  }\n\n  get postUrl(): string {\n    return 'usersCreateUrl';\n  }\n\n  get putUrl(): string {\n    return 'usersCreateUrl';\n  }\n\n  get parentUrl(): string {\n    return '/users';\n  }\n}\n","import { NgModule, Type } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IndexComponent } from './index/index.component';\n\nimport { UsersResolver } from './users.resolver';\nimport { UserDetailsComponent } from './user-details/user-details.component';\nimport { UserFormComponent } from './user-form/user-form.component';\nimport { ResourceFormComponent } from 'src/app/shared/dashboard-resource/resource-form/resource-form.component';\nimport { UserDeleteComponent } from './user-delete/user-delete.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IndexComponent,\n    runGuardsAndResolvers: 'always',\n    resolve: {\n      users: UsersResolver\n    },\n    children: [\n      {\n        path: 'create',\n        component: UserFormComponent,\n      },\n      {\n        path: ':id/edit',\n        component: UserFormComponent,\n      },\n      {\n        path: ':id/details',\n        pathMatch: 'full',\n        component: UserDetailsComponent,\n      },\n      {\n        path: ':id/delete',\n        pathMatch: 'full',\n        component: UserDeleteComponent,\n      },\n    ]\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UsersRoutingModule {\n  constructor() {\n    this.registerResourceComponents();\n  }\n\n  private registerResourceComponents(): void {\n    ResourceFormComponent.TYPES.set('userForm', UserFormComponent);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ResourceDeleteContext } from 'src/app/shared/dashboard-resource/resource-delete/resource-delete.component';\nimport { User } from 'src/app/models/user.model';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-user-delete',\n  templateUrl: './user-delete.component.html',\n  styleUrls: ['./user-delete.component.scss']\n})\nexport class UserDeleteComponent implements OnInit {\n  context: ResourceDeleteContext<User>;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.context = {\n      deleteUrl: 'usersDeleteUrl',\n      data: history.state.resource,\n      title: 'Delete User Resource!',\n      description: 'Are you sure to delete this user?'\n    };\n  }\n\n}\n","<app-resource-delete [context]=\"context\"></app-resource-delete>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UsersRoutingModule } from './users-routing.module';\nimport { IndexComponent } from './index/index.component';\nimport { UserDetailsComponent } from './user-details/user-details.component';\nimport { UserFormComponent } from './user-form/user-form.component';\nimport { UsersResolver } from './users.resolver';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { RouterModule } from '@angular/router';\nimport { DashboardResourceModule } from 'src/app/shared/dashboard-resource/dashboard-resource.module';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AuthInterceptor } from 'src/app/interceptors/auth.interceptor';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { UserDeleteComponent } from './user-delete/user-delete.component';\n\n\n@NgModule({\n  declarations: [IndexComponent, UserDetailsComponent, UserFormComponent, UserDeleteComponent],\n  imports: [\n    CommonModule,\n    UsersRoutingModule,\n    NgbModule,\n    RouterModule,\n    ReactiveFormsModule,\n    DashboardResourceModule\n  ],\n  providers: [\n    UsersResolver,\n    { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }\n  ]\n})\nexport class UsersModule { }\n"],"sourceRoot":"webpack:///"}