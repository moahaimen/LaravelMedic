(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(e,t,r){"use strict";r.r(t),r.d(t,"AuthModule",(function(){return w}));var o=r("ofXK"),a=r("tyNb"),n=r("fXoL"),i=r("lGQG"),b=r("OC8m");let s=(()=>{class e{constructor(e,t,r){this.auth=e,this.notifier=t,this.router=r}canActivate(e,t){const r=this.auth.authenticated;return r&&(this.notifier.error("You are logged-in"),this.router.navigateByUrl("/users/")),!r}}return e.\u0275fac=function(t){return new(t||e)(n.Xb(i.a),n.Xb(b.a),n.Xb(a.b))},e.\u0275prov=n.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=r("3Pt+"),c=r("AytR"),d=r("Tj/N"),u=r("tk/3");const m=function(){return["/auth/register"]};let p=(()=>{class e{constructor(e,t,r,o){this.http=e,this.auth=t,this.notifier=r,this.router=o}ngOnInit(){this.userData=new l.e({email:new l.c("ragnar@mail.com",l.q.email),password:new l.c("Aa123456")})}login(){this.http.post(`${c.a.apiUrl}/${c.a.loginUrl}`,this.userData.value).subscribe(e=>{const t=new d.a(e.user.id,e.user.user_name,e.user.email,e.user.first_name,e.user.last_name,e.user.role_id,e.user.status_id,e.user.created_at,e.user.updated_at,e.token);console.log(t),this.auth.setUser(t),this.router.navigateByUrl("/users/").then(e=>this.notifier.success("Hello, "+t.username))})}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(u.b),n.Kb(i.a),n.Kb(b.a),n.Kb(a.b))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-login"]],decls:36,vars:3,consts:[[1,"wrapper"],[1,"main-panel","w-100"],[1,"navbar","navbar-expand-lg","navbar-transparent","navbar-absolute","fixed-top"],[1,"container-fluid"],[1,"navbar-wrapper","mx-auto"],["href","/",1,"text-info"],["src","/assets/img/logo.png","height","25",1,"mx-auto","mb-0","d-block"],[1,"content",2,"margin-top","150px"],[1,"row"],[1,"col-md-4","mx-auto"],[1,"card","card-user"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"form-group"],["type","email","placeholder","Username","formControlName","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],[1,"update","ml-auto","mr-auto"],["type","button",1,"btn","btn-primary","btn-round",3,"click"],[1,"col-12"],[3,"routerLink"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Pb(1,"div",1),n.Pb(2,"nav",2),n.Pb(3,"div",3),n.Pb(4,"div",4),n.Pb(5,"a",5),n.Lb(6,"img",6),n.Pb(7,"p"),n.Pb(8,"strong"),n.Ac(9," Store Dashboard"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(10,"div",7),n.Pb(11,"div",3),n.Pb(12,"div",8),n.Pb(13,"div",9),n.Pb(14,"div",10),n.Pb(15,"div",11),n.Pb(16,"h5",12),n.Ac(17,"Login"),n.Ob(),n.Ob(),n.Pb(18,"div",13),n.Pb(19,"form",14),n.Pb(20,"div",15),n.Pb(21,"label"),n.Ac(22,"Username"),n.Ob(),n.Lb(23,"input",16),n.Ob(),n.Pb(24,"div",15),n.Pb(25,"label"),n.Ac(26,"Password"),n.Ob(),n.Lb(27,"input",17),n.Ob(),n.Pb(28,"div",8),n.Pb(29,"div",18),n.Pb(30,"button",19),n.ac("click",(function(){return t.login()})),n.Ac(31," Login "),n.Ob(),n.Ob(),n.Ob(),n.Pb(32,"div",8),n.Pb(33,"div",20),n.Pb(34,"a",21),n.Ac(35,"Register"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.xb(19),n.ic("formGroup",t.userData),n.xb(15),n.ic("routerLink",n.lc(2,m)))},directives:[l.s,l.k,l.f,l.b,l.j,l.d,a.d],styles:[""]}),e})();var v=r("mrSG");function P(e,t){if(1&e&&(n.Pb(0,"option",33),n.Ac(1),n.Ob()),2&e){const e=t.$implicit;n.ic("value",e.id),n.xb(1),n.Bc(e.name)}}const O=function(){return["/auth/login"]},f=[{path:"login",component:p,canActivate:[s]},{path:"register",component:(()=>{class e{constructor(e,t){this.http=e,this.router=t,e.get(c.a.prepareUrl("rolesFetchUrl")).toPromise().then(e=>this.roles=e),this.userData=new l.e({user_name:new l.c(null,l.q.required),email:new l.c(null,l.q.required),first_name:new l.c(null,l.q.required),last_name:new l.c(null,l.q.required),password:new l.c(null,l.q.minLength(8)),password_confirmation:new l.c(null,l.q.minLength(8)),role_id:new l.c(null,l.q.required)})}register(){return Object(v.a)(this,void 0,void 0,(function*(){const e=yield this.http.post(c.a.prepareUrl("registerUrl"),this.userData.value).toPromise();console.log(e),e&&this.router.navigateByUrl("/auth/login")}))}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(u.b),n.Kb(a.b))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-register"]],decls:70,vars:5,consts:[[1,"wrapper"],[1,"main-panel","w-100"],[1,"navbar","navbar-expand-lg","navbar-transparent","navbar-absolute","fixed-top","border-bottom-0"],[1,"container-fluid"],[1,"navbar-wrapper","mx-auto"],["href","/",1,"text-warning"],["src","/assets/img/logo.png","height","25",1,"mx-auto","mb-0","d-block"],[1,"content",2,"margin-top","100px"],[1,"row"],[1,"col-md-4","mx-auto"],[1,"card","card-user"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"col-12","px-3"],[1,"form-group"],["type","text","placeholder","Username","formControlName","user_name","autocomplete","name",1,"form-control"],["type","email","placeholder","Email","formControlName","email","autocomplete","email",1,"form-control"],[1,"col-md-6","pr-1"],["type","text","placeholder","First Name","formControlName","first_name","autocomplete","given-name",1,"form-control"],[1,"col-md-6","pl-1"],["type","text","placeholder","Last Name","formControlName","last_name","autocomplete","family-name",1,"form-control"],[1,"col-md-12"],["type","password","placeholder","Password","formControlName","password","autocomplete","new-password",1,"form-control"],["type","password","placeholder","Re-type password","formControlName","password_confirmation","autocomplete","new-password",1,"form-control"],[1,"col-md-12","px-3"],["placeholder","Role","formControlName","role_id",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-warning","btn-round",3,"disabled","click"],[1,"col-12"],[3,"routerLink"],[3,"value"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Pb(1,"div",1),n.Pb(2,"nav",2),n.Pb(3,"div",3),n.Pb(4,"div",4),n.Pb(5,"a",5),n.Lb(6,"img",6),n.Pb(7,"p"),n.Pb(8,"strong"),n.Ac(9," Store Dashboard"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(10,"div",7),n.Pb(11,"div",3),n.Pb(12,"div",8),n.Pb(13,"div",9),n.Pb(14,"div",10),n.Pb(15,"div",11),n.Pb(16,"h5",12),n.Ac(17,"Register"),n.Ob(),n.Ob(),n.Pb(18,"div",13),n.Pb(19,"form",14),n.Pb(20,"div",8),n.Pb(21,"div",15),n.Pb(22,"div",16),n.Pb(23,"label"),n.Ac(24,"Username"),n.Ob(),n.Lb(25,"input",17),n.Ob(),n.Ob(),n.Ob(),n.Pb(26,"div",8),n.Pb(27,"div",15),n.Pb(28,"div",16),n.Pb(29,"label"),n.Ac(30,"Email address"),n.Ob(),n.Lb(31,"input",18),n.Ob(),n.Ob(),n.Ob(),n.Pb(32,"div",8),n.Pb(33,"div",19),n.Pb(34,"div",16),n.Pb(35,"label"),n.Ac(36,"First Name"),n.Ob(),n.Lb(37,"input",20),n.Ob(),n.Ob(),n.Pb(38,"div",21),n.Pb(39,"div",16),n.Pb(40,"label"),n.Ac(41,"Last Name"),n.Ob(),n.Lb(42,"input",22),n.Ob(),n.Ob(),n.Ob(),n.Pb(43,"div",8),n.Pb(44,"div",23),n.Pb(45,"div",16),n.Pb(46,"label"),n.Ac(47,"Password"),n.Ob(),n.Lb(48,"input",24),n.Ob(),n.Ob(),n.Ob(),n.Pb(49,"div",8),n.Pb(50,"div",23),n.Pb(51,"div",16),n.Pb(52,"label"),n.Ac(53,"Password Confirmation"),n.Ob(),n.Lb(54,"input",25),n.Ob(),n.Ob(),n.Ob(),n.Pb(55,"div",8),n.Pb(56,"div",26),n.Pb(57,"div",16),n.Pb(58,"label"),n.Ac(59,"Role"),n.Ob(),n.Pb(60,"select",27),n.yc(61,P,2,2,"option",28),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(62,"div",8),n.Pb(63,"div",29),n.Pb(64,"button",30),n.ac("click",(function(){return t.register()})),n.Ac(65," Submit "),n.Ob(),n.Ob(),n.Ob(),n.Pb(66,"div",8),n.Pb(67,"div",31),n.Pb(68,"a",32),n.Ac(69,"Login"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.xb(19),n.ic("formGroup",t.userData),n.xb(42),n.ic("ngForOf",t.roles),n.xb(3),n.ic("disabled",!t.userData.valid),n.xb(4),n.ic("routerLink",n.lc(4,O)))},directives:[l.s,l.k,l.f,l.b,l.j,l.d,l.p,o.j,a.d,l.m,l.r],styles:[""]}),e})(),canActivate:[s]},{path:"**",redirectTo:"login"}];let h=(()=>{class e{}return e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({factory:function(t){return new(t||e)},imports:[[a.e.forChild(f)],a.e]}),e})();var g=r("t2gh");let w=(()=>{class e{}return e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({factory:function(t){return new(t||e)},providers:[{provide:u.a,useClass:g.a,multi:!0}],imports:[[o.b,h,l.o]]}),e})()},mrSG:function(e,t,r){"use strict";function o(e,t,r,o){return new(r||(r=Promise))((function(a,n){function i(e){try{s(o.next(e))}catch(t){n(t)}}function b(e){try{s(o.throw(e))}catch(t){n(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,b)}s((o=o.apply(e,t||[])).next())}))}r.d(t,"a",(function(){return o}))}}]);