(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0PJQ":function(t,e,i){"use strict";i.d(e,"b",(function(){return b})),i.d(e,"a",(function(){return d}));var n=i("mrSG"),o=i("fXoL"),c=i("AytR"),r=i("tk/3"),s=i("tyNb"),a=i("1kSV");const l=["container"];function u(t,e){}let b=(()=>{class t{constructor(t,e,i,n){this.http=t,this.route=e,this.router=i,this.service=n,this.message="Please fill the following form then click submit button"}ngAfterViewInit(){this.modal=this.openModal(),this.initData()}ngAfterContentInit(){}initData(){const t=history.state.resource;if(t&&this.formGroup.patchValue(t),this.isEdit=this.route.snapshot.routeConfig.path.includes("edit"),this.title=this.isEdit?"Edit Resource":"Create Resource",this.isEdit&&!t)return this.ok()}submit(){this.tryCreateResource(),this.tryUpdateResource()}ok(){this.modal?this.modal.dismiss():this.service.dismissAll(),history.back()}tryCreateResource(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.isEdit)return;const t=yield this.http.post(c.a.prepareUrl(this.postUrl(),this.route.snapshot.params),this.formGroup.value).toPromise();console.log(t),t&&this.ok()}))}tryUpdateResource(){return Object(n.a)(this,void 0,void 0,(function*(){this.isEdit&&(yield this.http.put(c.a.prepareUrl(this.putUrl(),this.route.snapshot.params),this.formGroup.value).toPromise())&&this.ok()}))}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(r.b),o.Kb(s.a),o.Kb(s.b),o.Kb(a.d))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-resource-form-content"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Pb(0,"h1"),o.Ac(1,"Hello"),o.Ob())},encapsulation:2}),t})(),d=(()=>{class t{constructor(t,e,i){this.route=t,this.modalService=e,this.resolver=i}ngAfterViewInit(){const e=t.TYPES.get(this.route.snapshot.data.component);console.log(e);const i=this.resolver.resolveComponentFactory(e),n=this.container.createComponent(i);this.content=n.instance,this.modal=this.modalService.open(n.instance,{size:"md",backdrop:"static"})}ngOnDestroy(){null==this.modal?this.modalService.dismissAll():this.modal.dismiss()}ok(){}}return t.TYPES=new Map,t.\u0275fac=function(e){return new(e||t)(o.Kb(s.a),o.Kb(a.d),o.Kb(o.j))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-resource-form"]],viewQuery:function(t,e){var i;1&t&&o.Fc(l,!0,o.O),2&t&&o.pc(i=o.bc())&&(e.container=i.first)},decls:4,vars:1,consts:[["type","info",3,"close"],["container",""]],template:function(t,e){1&t&&(o.Pb(0,"ngb-alert",0),o.ac("close",(function(){return e.ok()})),o.Ac(1),o.Ob(),o.yc(2,u,0,0,"ng-template",null,1,o.zc)),2&t&&(o.xb(1),o.Bc(null==e.content?null:e.content.message))},directives:[a.b],styles:[""]}),t})()},AMeL:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i("fXoL"),o=i("tyNb"),c=i("OC8m"),r=i("1kSV"),s=i("ofXK");const a=["content"],l=["components"];function u(t,e){1&t&&(n.Pb(0,"div"),n.gc(1,0,["[select]","prop.component"]),n.Ob())}function b(t,e){if(1&t&&(n.Pb(0,"div"),n.Pb(1,"h6"),n.Ac(2),n.Ob(),n.Pb(3,"small"),n.Ac(4),n.dc(5,"uppercase"),n.Ob(),n.Ob()),2&t){const t=n.cc().$implicit,e=n.cc(2);n.xb(2),n.Bc(e.context.data.toTitle(t)),n.xb(2),n.Bc(n.ec(5,2,t.title))}}function d(t,e){if(1&t&&(n.Pb(0,"div",10),n.Pb(1,"div",11),n.yc(2,u,2,0,"div",12),n.yc(3,b,6,4,"div",13),n.Ob(),n.Ob()),2&t){const t=e.$implicit;n.xb(1),n.ic("ngSwitch",t.type),n.xb(1),n.ic("ngSwitchCase","component")}}function h(t,e){if(1&t){const t=n.Qb();n.Pb(0,"div",2),n.Pb(1,"button",3),n.ac("click",(function(){return n.rc(t),n.cc().done()})),n.Ac(2," Done "),n.Ob(),n.Pb(3,"h6",4),n.Ac(4),n.Ob(),n.Ob(),n.Pb(5,"div",5),n.Pb(6,"div",6),n.yc(7,d,4,2,"div",7),n.Ob(),n.Pb(8,"div",8),n.Lb(9,"div",9),n.Ob(),n.Ob()}if(2&t){const t=n.cc();n.xb(4),n.Bc(t.context.title),n.xb(3),n.ic("ngForOf",t.context.properties)}}const p=["*"];let f=(()=>{class t{constructor(t,e,i){this.router=t,this.notifier=e,this.modalService=i}ngAfterViewInit(){if(!this.context||!this.context.data||!this.context.properties)return this.notifier.warning("Something went wrong, Undefined context","Resource Details"),void this.done();this.modal=this.modalService.open(this.content,{size:"md",backdrop:"static"}),console.log(this.components)}done(){var t,e;const i=(null===(e=null===(t=this.context)||void 0===t?void 0:t.urls)||void 0===e?void 0:e.tableUrl)||"/users";console.log(i),this.router.navigateByUrl(i).then(t=>{var e;t&&(null===(e=this.modal)||void 0===e||e.dismiss(),this.modalService.dismissAll())})}}return t.\u0275fac=function(e){return new(e||t)(n.Kb(o.b),n.Kb(c.a),n.Kb(r.d))},t.\u0275cmp=n.Eb({type:t,selectors:[["app-resource-details"]],viewQuery:function(t,e){var i;1&t&&(n.Fc(a,!0),n.Fc(l,!0,n.l)),2&t&&(n.pc(i=n.bc())&&(e.content=i.first),n.pc(i=n.bc())&&(e.components=i.first))},inputs:{context:"context"},ngContentSelectors:p,decls:4,vars:1,consts:[["type","info",3,"close"],["content",""],[1,"modal-header"],[1,"btn","btn-primary","btn-pill","px-3","float-right",3,"click"],[1,"modal-title","pt-1","mt-1"],[1,"modal-body"],[1,"list-group"],["class","list-group-item list-group-item-action",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],[1,"list-group-item","list-group-item-action"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(t,e){1&t&&(n.hc(),n.Pb(0,"ngb-alert",0),n.ac("close",(function(){return e.done()})),n.Ac(1),n.Ob(),n.yc(2,h,10,2,"ng-template",null,1,n.zc)),2&t&&(n.xb(1),n.Bc(e.context.title))},directives:[r.b,s.j,s.l,s.m,s.n],pipes:[s.s],styles:[""]}),t})()},RDNO:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("tk/3"),o=i("z6cu"),c=i("JIr8"),r=i("lJxs"),s=i("Sy1n"),a=i("fXoL"),l=i("lGQG"),u=i("OC8m"),b=i("tyNb");let d=(()=>{class t{constructor(t,e,i){this.auth=t,this.notifier=e,this.router=i}intercept(t,e){return s.b.of.next(!0),t=t.clone({headers:new n.e({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.auth.appUser.token})}),e.handle(t).pipe(Object(c.a)(t=>{if(401===t.status)return this.notifier.error(t.statusText),this.router.navigateByUrl("/auth/logout",{queryParams:{sure:!0}}),Object(o.a)(t.statusText);if(t instanceof n.d){if(t.headers.get("Message")||t.headers.get("message")){console.log(t.headers.get("Message"));const e=t.headers.get("message")||t.headers.get("Message");if(e)return this.notifier.error(e),Object(o.a)(e)}if(t.error){if(t.error.message)return this.notifier.error(t.error.message),Object(o.a)(t.error.message);let e="";return Object.keys(t.error).forEach(i=>{const n=t.error[i];Array.isArray(n)?n.forEach(t=>e+=`${i}-${t}\n`):e+=`${i}-${n}\n`}),this.notifier.error(e),Object(o.a)(e)}}this.notifier.error(`${t.status} - ${t.statusText}`),Object(o.a)(t)}),Object(r.a)(t=>{if(s.b.of.next(!1),t instanceof n.f&&200===t.status){const e=t.headers.get("Message")||t.headers.get("message");e&&e.length>0&&this.notifier.success(e)}return t}))}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(l.a),a.Xb(u.a),a.Xb(b.b))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac}),t})()},Ubi2:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("fXoL"),o=i("OC8m"),c=i("tyNb"),r=i("ofXK");function s(t,e){if(1&t&&(n.Pb(0,"th"),n.Ac(1),n.dc(2,"uppercase"),n.Ob()),2&t){const t=e.$implicit;n.xb(1),n.Cc(" ",n.ec(2,1,t.title)," ")}}function a(t,e){if(1&t&&(n.Pb(0,"td"),n.Ac(1),n.Ob()),2&t){const t=e.$implicit,i=n.cc().$implicit;n.xb(1),n.Cc(" ",i.toTitle(t)," ")}}function l(t,e){if(1&t){const t=n.Qb();n.Pb(0,"i",14),n.ac("click",(function(){n.rc(t);const i=e.$implicit,o=n.cc().$implicit,c=n.cc();return o.do(i,c.router,c.route)})),n.Ob()}2&t&&n.Ab("",e.$implicit.icon," mx-1")}function u(t,e){if(1&t&&(n.Pb(0,"tr"),n.yc(1,a,2,1,"td",10),n.Pb(2,"td",12),n.yc(3,l,1,3,"i",13),n.Ob(),n.Ob()),2&t){const t=n.cc();n.xb(1),n.ic("ngForOf",t.context.properties),n.xb(2),n.ic("ngForOf",t.context.actions)}}let b=(()=>{class t{constructor(t,e,i){this.notifier=t,this.router=e,this.route=i}ngOnInit(){this.context||(this.notifier.error("Something went wrong, Table context is null"),this.context={urls:{createUrl:"<>",detailsUrl:"<>"},title:"List",data:[],properties:[]}),this.context.actions||(this.context.actions=[]),this.context.actions.push({icon:"nc-icon nc-alert-circle-i",type:"url",url:this.context.urls.editUrl||":id/details"}),this.context.actions.push({icon:"nc-icon nc-tag-content",type:"url",url:this.context.urls.editUrl||":id/edit"}),this.context.actions.push({icon:"nc-icon nc-simple-remove",type:"url",url:this.context.urls.deleteUrl||":id/delete"})}}return t.\u0275fac=function(e){return new(e||t)(n.Kb(o.a),n.Kb(c.b),n.Kb(c.a))},t.\u0275cmp=n.Eb({type:t,selectors:[["app-table-view"]],inputs:{context:"context"},decls:19,vars:7,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"btn","btn-primary","btn-rounded","pull-right",3,"routerLink"],[1,"card-title"],[1,"card-body"],[1,"table-responsive","overflow-hidden"],[1,"table"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"text-right","actions"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){1&t&&(n.Pb(0,"div",0),n.Pb(1,"div",1),n.Lb(2,"router-outlet"),n.Pb(3,"div",2),n.Pb(4,"div",3),n.Pb(5,"a",4),n.Ac(6," Create "),n.Ob(),n.Pb(7,"h4",5),n.Ac(8),n.Ob(),n.Ob(),n.Pb(9,"div",6),n.Pb(10,"div",7),n.Pb(11,"table",8),n.Pb(12,"thead",9),n.yc(13,s,3,3,"th",10),n.Pb(14,"th",11),n.Ac(15),n.dc(16,"uppercase"),n.Ob(),n.Ob(),n.Pb(17,"tbody"),n.yc(18,u,4,2,"tr",10),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&t&&(n.xb(5),n.ic("routerLink",e.context.urls.createUrl),n.xb(3),n.Bc(e.context.title),n.xb(5),n.ic("ngForOf",e.context.properties),n.xb(2),n.Bc(n.ec(16,5,"actions")),n.xb(3),n.ic("ngForOf",e.context.data))},directives:[c.f,c.d,r.j],pipes:[r.s],styles:[".actions[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin:1pt!important;padding:2pt!important;font-size:20px;cursor:pointer;opacity:.8}.actions[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]:hover{opacity:1}"]}),t})()},mrSG:function(t,e,i){"use strict";function n(t,e,i,n){return new(i||(i=Promise))((function(o,c){function r(t){try{a(n.next(t))}catch(e){c(e)}}function s(t){try{a(n.throw(t))}catch(e){c(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,s)}a((n=n.apply(t,e||[])).next())}))}i.d(e,"a",(function(){return n}))},uP1v:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("ofXK"),o=i("tk/3"),c=i("3Pt+"),r=i("tyNb"),s=i("1kSV"),a=i("fXoL");let l=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[n.b,o.c,c.o,r.e,s.e]]}),t})()},"w+MF":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("AytR"),o=i("fXoL"),c=i("tk/3"),r=i("tyNb"),s=i("1kSV"),a=i("OC8m");const l=["content"];function u(t,e){if(1&t){const t=o.Qb();o.Pb(0,"div",2),o.Pb(1,"h6",3),o.Ac(2),o.Ob(),o.Pb(3,"p"),o.Ac(4),o.Ob(),o.Ob(),o.Pb(5,"div",4),o.Pb(6,"button",5),o.ac("click",(function(){return o.rc(t),o.cc().delete()})),o.Ac(7,"Delete"),o.Ob(),o.Pb(8,"button",6),o.ac("click",(function(){return o.rc(t),o.cc().ok()})),o.Ac(9,"Cancel"),o.Ob(),o.Ob()}if(2&t){const t=o.cc();o.xb(2),o.Bc(null==t.context?null:t.context.title),o.xb(2),o.Bc(null==t.context?null:t.context.description)}}let b=(()=>{class t{constructor(t,e,i,n,o){this.http=t,this.router=e,this.route=i,this.modalService=n,this.notifier=o}ngAfterViewInit(){this.modal=this.modalService.open(this.content,{backdrop:"static",size:"sm"}),this.modal&&history.state.resource||this.ok()}delete(){this.http.delete(n.a.prepareUrl(this.context.deleteUrl,this.context.data)).subscribe(t=>{if(t)return this.notifier.success("Resource deleted successfully"),void this.ok();this.notifier.error("Somthing went wrong, Failed to delete the resource")})}ok(){this.modal?this.modal.dismiss():this.modalService.dismissAll(),history.back()}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(c.b),o.Kb(r.b),o.Kb(r.a),o.Kb(s.d),o.Kb(a.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-resource-delete"]],viewQuery:function(t,e){var i;1&t&&o.Fc(l,!0),2&t&&o.pc(i=o.bc())&&(e.content=i.first)},inputs:{context:"context"},decls:4,vars:0,consts:[["type","info",3,"close"],["content",""],[1,"modal-body"],[1,"modal-title","mt-1","pt-2"],[1,"modal-footer"],[1,"btn","btn-sm","btn-rounded","btn-danger",3,"click"],[1,"btn","btn-sm","btn-rounded","btn-secondary",3,"click"]],template:function(t,e){1&t&&(o.Pb(0,"ngb-alert",0),o.ac("close",(function(){return e.ok()})),o.Ac(1,"Delete resource"),o.Ob(),o.yc(2,u,10,2,"ng-template",null,1,o.zc))},directives:[s.b],styles:[""]}),t})()}}]);