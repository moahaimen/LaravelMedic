{"version":3,"sources":["./src/app/dashboard/categories/index/index.component.ts","./src/app/dashboard/categories/index/index.component.html","./src/app/models/category.model.ts","./src/app/dashboard/categories/categories.resolver.ts","./src/app/dashboard/categories/category-delete/category-delete.component.ts","./src/app/dashboard/categories/category-delete/category-delete.component.html","./src/app/constants/icons.ts","./src/app/dashboard/categories/category-details/category-details.component.ts","./src/app/dashboard/categories/category-details/category-details.component.html","./src/app/dashboard/categories/category-form/category-form.component.html","./src/app/dashboard/categories/category-form/category-form.component.ts","./src/app/dashboard/categories/categories-routing.module.ts","./src/app/dashboard/categories/categories.module.ts"],"names":["IndexComponent","route","context","urls","createUrl","detailsUrl","data","this","properties","key","title","type","subscribe","categories","id","name","description","icon","created_at","updated_at","super","CategoriesResolver","http","element","state","get","environment","apiUrl","categoriesFetchUrl","pipe","map","e","Json2Category","CategoryDeleteComponent","deleteUrl","history","resource","Icon","icons","i","push","Icons","CategoryDetailsComponent","category","tableUrl","component","CategoryFormComponent","router","service","formGroup","required","active","find","open","content","backdrop","controls","setValue","markAsTouched","markAsDirty","ok","routes","path","runGuardsAndResolvers","resolve","children","pathMatch","CategoriesRoutingModule","forChild","CategoriesModule","provide","useClass","multi"],"mappings":"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","file":"11.4206b1db029bc3b24861.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { Category } from 'src/app/models/category.model';\nimport { TableViewComponent } from 'src/app/shared/dashboard-resource/table-view/table-view.component';\nimport { ActivatedRoute } from '@angular/router';\nimport { ITableContext } from 'src/app/shared/dashboard-resource/table-view/table.context';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.scss']\n})\nexport class IndexComponent {\n  data: Category[];\n  context: ITableContext<Category> = {\n    urls: {\n      createUrl: '/categories/create',\n      detailsUrl: '/:id'\n    },\n    data: this.data,\n    properties: [\n      {\n        key: 'name',\n        title: 'Name',\n        type: 'string'\n      },\n      {\n        key: 'description',\n        title: 'Description',\n        type: 'string'\n      },\n      {\n        key: 'created_at',\n        title: 'Created At',\n        type: 'datetime'\n      },\n      {\n        key: 'updated_at',\n        title: 'Updated At',\n        type: 'datetime'\n      },\n    ],\n    title: 'Categories'\n  };\n  @ViewChild('table') table: TableViewComponent<Category>;\n\n  constructor(route: ActivatedRoute) {\n    // console.log(this.context);\n    route.data.subscribe(data => {\n      this.data = data.categories;\n      this.context.data = this.data;\n    });\n  }\n}\n","<app-table-view [context]=\"context\" #table></app-table-view>","import { Resource } from '../shared/dashboard-resource/resource.model';\r\nimport { Icon } from '../constants/icons';\r\n\r\nexport class Category extends Resource {\r\n    constructor(\r\n        public id: string,\r\n        public name: string,\r\n        public description: string,\r\n        public icon: (Icon | number),\r\n        public created_at: Date,\r\n        public updated_at: Date) {\r\n        super(id);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { Category } from '../../models/category.model';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class CategoriesResolver implements Resolve<Category[]> {\r\n    public static Json2Category(element: any): Category {\r\n        if (!element)\r\n        {\r\n            return null;\r\n        }\r\n        return new Category(element.id, element.name, element.description, element.icon, element.created_at, element.updated_at);\r\n    }\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Category[]> {\r\n        return this.http.get<any[]>(`${ environment.apiUrl }/${ environment.categoriesFetchUrl }`)\r\n            .pipe(map(data => data.map(e => CategoriesResolver.Json2Category(e))));\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { Category } from 'src/app/models/category.model';\nimport { ResourceDeleteContext } from 'src/app/shared/dashboard-resource/resource-delete/resource-delete.component';\n\n@Component({\n  selector: 'app-category-delete',\n  templateUrl: './category-delete.component.html',\n  styleUrls: ['./category-delete.component.scss']\n})\nexport class CategoryDeleteComponent implements OnInit {\n  context: ResourceDeleteContext<Category>;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.context = {\n      deleteUrl: 'categoriesDeleteUrl',\n      data: history.state.resource,\n      title: 'Delete Category Resource!',\n      description: 'Are you sure to delete this category?'\n    };\n  }\n\n}\n","<app-resource-delete [context]=\"context\"></app-resource-delete>","export class Icon {\r\n    constructor(public name: any) {\r\n    }\r\n\r\n    public get url(): string {\r\n        return `/assets/img/icons/icon${ this.name }.png`;\r\n    }\r\n}\r\n\r\nconst icons: Icon[] = [];\r\n\r\nfor (let i = 1; i <= 28; i++)\r\n{\r\n    icons.push(new Icon(i));\r\n}\r\n\r\nexport const Icons: Icon[] = icons;\r\n","import { Component, OnInit } from '@angular/core';\nimport { Category } from 'src/app/models/category.model';\nimport { IResourceDetailsContext } from 'src/app/shared/dashboard-resource/resource-details/resource-details.context';\nimport { CategoriesResolver } from '../categories.resolver';\nimport { Icon } from 'src/app/constants/icons';\n\n@Component({\n  selector: 'app-category-details',\n  templateUrl: './category-details.component.html',\n  styleUrls: ['./category-details.component.scss']\n})\nexport class CategoryDetailsComponent implements OnInit {\n  public context: IResourceDetailsContext<Category>;\n\n  ngOnInit(): void {\n    const category: Category = CategoriesResolver.Json2Category(history.state.resource);\n    if (category)\n    {\n      const i = category.icon;\n      category.icon = new Icon(i);\n    }\n\n    this.context = {\n      urls: {\n        tableUrl: '/categories',\n      },\n      data: category,\n      properties: [\n        {\n          key: 'name',\n          title: 'Name',\n          type: 'string'\n        },\n        {\n          key: 'description',\n          title: 'Description',\n          type: 'string'\n        },\n        {\n          key: 'created_at',\n          title: 'Created At',\n          type: 'datetime'\n        },\n        {\n          key: 'updated_at',\n          title: 'Updated At',\n          type: 'datetime'\n        },\n        {\n          key: 'icon',\n          title: 'Icon',\n          type: 'component',\n          component: '.icon'\n        },\n      ],\n      title: `Details of category ${ category?.name }`\n    };\n  }\n}\n","<app-resource-details [context]=\"context\">\r\n  <div class=\".icon\">\r\n    <img [src]=\"context?.data?.icon?.url\" [alt]=\"context?.data?.icon?.name\">\r\n  </div>\r\n</app-resource-details>","<ngb-alert type=\"info\" (close)=\"ok()\">{{ message }}</ngb-alert>\n\n<ng-template #content>\n  <div class=\"modal-header\">\n    <h6 class=\"modal-title pt-1 mt-1\">{{ title }}</h6>\n    <button type=\"button\" class=\"close\" style=\"border: none; outline: none;\" (click)=\"ok()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <form [formGroup]=\"formGroup\">\n      <div class=\"row\">\n        <div class=\"col-12 px-3\">\n          <div class=\"form-group\">\n            <label>Name</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Name\" formControlName=\"name\" autocomplete=\"off\" />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-12 px-3\">\n          <div class=\"form-group\">\n            <label>Description</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Description\" formControlName=\"description\" autocomplete=\"off\" />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-12 px-3\">\n          <div class=\"form-group\">\n            <label>Icon</label>\n            <input type=\"hidden\" formControlName=\"icon\" id=\"icon-field\" />\n            <div ngbDropdown class=\"d-block\">\n              <button class=\"btn btn-outline-primary btn-round btn-sm\" id=\"icons-select\" ngbDropdownToggle>\n                <img\n                  [src]=\"active.url\"\n                  [alt]=\"active.name\"\n                  *ngIf=\"active\"\n                  width=\"32\"\n                  height=\"32\"\n                />\n                {{ active ? active.name : \"Not selected\" }}\n              </button>\n              <div class=\"list-group icons-list-container\" ngbDropdownMenu aria-labelledby=\"icons-select\">\n                <div ngbDropdownItem class=\"list-group-item list-group-item-action\" (click)=\"onSelectItem(i)\" *ngFor=\"let i of icons\">\n                  <img [src]=\"i.url\" [alt]=\"i.name\" width=\"32\" height=\"32\" /> {{ i.name }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"update ml-auto mr-auto\">\n          <button type=\"submit\" class=\"btn btn-primary btn-round\" [disabled]=\"uploading || !formGroup.dirty || !formGroup.valid\" (click)=\"submit()\">\n            Submit\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</ng-template>","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { ResourceFormContent } from 'src/app/shared/dashboard-resource/resource-form/resource-form.component';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgbModal, NgbModalRef, NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\n\nimport { Icon, Icons } from 'src/app/constants/icons';\n\n@Component({\n  selector: 'app-category-form',\n  templateUrl: './category-form.component.html',\n  styleUrls: ['./category-form.component.scss']\n})\nexport class CategoryFormComponent extends ResourceFormContent implements OnInit {\n  title: string;\n  message: string;\n  formGroup: FormGroup;\n  icons: Icon[];\n  active: Icon;\n\n  @ViewChild('content') content: ElementRef<HTMLElement>;\n\n  constructor(http: HttpClient, route: ActivatedRoute, router: Router, service: NgbModal) {\n    super(http, route, router, service);\n\n    this.formGroup = new FormGroup({\n      name: new FormControl(null, Validators.required),\n      description: new FormControl(null, Validators.required),\n      icon: new FormControl(null, Validators.required),\n    });\n    this.icons = Icons;\n  }\n\n  ngOnInit(): void {\n    const resource = history.state.resource;\n    if (!resource)\n    {\n      return;\n    }\n    this.active = this.icons.find(e => e.name === resource.icon);\n  }\n\n  openModal(): NgbModalRef {\n    const options: NgbModalOptions = {\n      backdrop: 'static'\n    };\n\n    return this.service.open(this.content, options);\n  }\n\n  get postUrl(): string {\n    return 'categoriesCreateUrl';\n  }\n\n  get putUrl(): string {\n    return 'categoriesUpdateUrl';\n  }\n\n  get parentUrl(): string {\n    return '/categories';\n  }\n\n  onSelectItem(i: Icon): void {\n    this.active = i;\n    this.formGroup.controls.icon.setValue(i.name);\n    this.formGroup.controls.icon.markAsTouched();\n    this.formGroup.controls.icon.markAsDirty();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IndexComponent } from './index/index.component';\nimport { CategoriesResolver } from './categories.resolver';\nimport { CategoryDeleteComponent } from './category-delete/category-delete.component';\nimport { CategoryDetailsComponent } from './category-details/category-details.component';\nimport { CategoryFormComponent } from './category-form/category-form.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IndexComponent,\n    runGuardsAndResolvers: 'always',\n    resolve: {\n      categories: CategoriesResolver\n    },\n    children: [\n      {\n        path: 'create',\n        component: CategoryFormComponent,\n      },\n      {\n        path: ':id/edit',\n        component: CategoryFormComponent,\n      },\n      {\n        path: ':id/details',\n        pathMatch: 'full',\n        component: CategoryDetailsComponent,\n      },\n      {\n        path: ':id/delete',\n        pathMatch: 'full',\n        component: CategoryDeleteComponent,\n      },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CategoriesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CategoriesRoutingModule } from './categories-routing.module';\nimport { IndexComponent } from './index/index.component';\nimport { DashboardResourceModule } from 'src/app/shared/dashboard-resource/dashboard-resource.module';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AuthInterceptor } from 'src/app/interceptors/auth.interceptor';\n\nimport { CategoriesResolver } from './categories.resolver';\nimport { CategoryDeleteComponent } from './category-delete/category-delete.component';\nimport { CategoryFormComponent } from './category-form/category-form.component';\nimport { CategoryDetailsComponent } from './category-details/category-details.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { RouterModule } from '@angular/router';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [IndexComponent, CategoryDeleteComponent, CategoryFormComponent, CategoryDetailsComponent],\n  imports: [\n    CommonModule,\n    CategoriesRoutingModule,\n    NgbModule,\n    RouterModule,\n    ReactiveFormsModule,\n    DashboardResourceModule\n  ],\n  providers: [\n    CategoriesResolver,\n    { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }\n  ]\n})\nexport class CategoriesModule { }\n"],"sourceRoot":"webpack:///"}